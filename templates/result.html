<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Résultat de la prédiction</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f4f6f8;
    }
    .banner {
      background: #43a047;
      color: #fff;
      padding: 22px 16px;
      font-size: 30px;
      font-weight: 700;
    }
    .card {
      max-width: 820px;
      margin: 16px auto;
      background: #fff;
      padding: 18px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,.08);
    }
    .pill {
      display: inline-block;
      padding: 8px 12px;
      border-radius: 999px;
      font-weight: 700;
    }
    .risk {
      background: #ffebee;
      color: #c62828;
    }
    .ok {
      background: #e8f5e9;
      color: #2e7d32;
    }
    .err {
      background: #fff3e0;
      color: #e65100;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ffe0b2;
    }
    a {
      color: #43a047;
      font-weight: 700;
      text-decoration: none;
    }
    .debug {
      font-size: 12px;
      color: #666;
      margin-top: 6px;
    }
  </style>
</head>

<body>
  <div class="banner">Prédiction de Défaut de Crédit</div>

  <div class="card">
    <h2>Résultat</h2>

    {% if error %}
      <div class="err">
        <b>Erreur :</b> {{ error }}
      </div>
      <p><a href="/">← Revenir au formulaire</a></p>

    {% else %}
      <p>
        Probabilité de défaut :
        <b>{{ "%.6f"|format(proba*100) }}%</b>
      </p>

      <p class="debug">
        Debug proba brute : {{ proba }}
      </p>

      {% if pred == 1 %}
        <p><span class="pill risk">Risque élevé de défaut</span></p>
      {% else %}
        <p><span class="pill ok">Risque faible de défaut</span></p>
      {% endif %}

      <p><a href="/">← Refaire une prédiction</a></p>
    {% endif %}
  </div>
</body>
</html>
